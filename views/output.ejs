<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

    <title>bootstrap 4 sidebar</title>
    <style>
      @import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";
body{font-family: 'Poppins', sans-serif;
     background: #fafafa}
p{font-family: 'Poppins', sans-serif;
  font-size: 1.1em;
	font-weight: 300;
	line-height: 1.7em;
	color: #999;
}
a,
a:hover,
a:focus{
	color: inherit;
	text-decoration: none;
	transition: all 0.3s;
}
.navbar{
	padding: 15px 10px;
	background: #fff;
	border: none;
	border-radius: 0;
	margin-bottom: 40px;
	
}

.navbar-btn{
	box-shadow: none;
	outline: none!important;
	border: none;
}

.line{
	width: 100%;
	height: 1px;
	border-bottom: 1px dashed #ddd;
}

.wrapper {
    display: flex;
    width: 100%;
    align-items: stretch;
}
#sidebar {
    min-width: 250px;
    max-width: 250px;
    background: #17a2b8;
    color: #fff;
    transition: all 0.3s;
}
#sidebar.active{
	margin-left: -250px;
}

#sidebar .sidebar-header{
	padding: 20px;
	background: #17a2b8;
}
#sidebar ul.components{
	padding: 20px 0px;
	border-bottom: 1px solid #47748b;
}

#sidebar ul p{
	padding: 10px;
	font-size: 1.1em;
	display: block;
}

#sidebar ul li a{
	padding: 10px;
	font-size: 1.1em;
	display: block;
}
#sidebar ul li a:hover {
    color: #17a2b8;
    background: #fff;
}

#sidebar ul li.active>a,
a[aria-expanded="true"] {
    color: #fff;
    background: #17a2b8;
}
a[data-toggle="collapse"] {
    position: relative;
}
.bg-light {
  background-color: white;
}
.dropdown-toggle::after {
    display: block;
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
}

ul ul a {
    font-size: 0.9em !important;
    padding-left: 30px !important;
    background: #17a2b8;
}

ul.CTAs {
    padding: 20px;
}

ul.CTAs a {
    text-align: center;
    font-size: 0.9em !important;
    display: block;
    border-radius: 5px;
    margin-bottom: 5px;
}
a.download{
	background: #fff;
	color: #7386D5;
}
a.article,
a.article:hover {
    background: #6d7fcc !important;
    color: #fff !important;
}

#content {
    width: 100%;
    padding: 20px;
    min-height: 100vh;
    transition: all 0.3s;
}

@media(maz-width:768px){
	#sidebar{margin-left: -250px;}
	#sidebar.active{
		margin-left: 0px;
	}
	#sidebarCollapse span{
		display: none;
	}
}















    </style>
  </head>
  <body style="background-color: white;">
   
   <div class="wrapper">
   	<nav id="sidebar">
   		<div class="sidebar-header">
   		
         <img src="/logo.jpg" height="100" width="200">
   		</div>
   		
   		
   		<ul class="list-unstyled components">
   	
   			<li class="active">
   				<a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="toggle" onclick="colorp()">Color Palette</a>
   				<!-- <ul class="collapse list-unstyled" id="homeSubmenu">
   					<li>
   						<a href="#">home1</a>
   					</li>
   					<li>
   						<a href="#">home2</a>
   					</li>
   					<li>
   						<a href="#">home3</a>
   					</li>
   				</ul>  -->
   			</li>
   			
   			
   			<li>
   				<a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Color Space</a>
   				<ul class="collapse list-unstyled" id="pageSubmenu">
   					<li>
   						<a href="#" onclick="colorshsv()">HSV</a>
   					</li>
   					<li>
   						<a href="#"onclick="colorslab()" >LAB</a>
   					</li>
   					<li>
   						<a href="#" onclick="colorsrgb()">RGB</a>
   					</li>
             <li>
              <a href="#" onclick="colorsxyz()">XYZ</a>
            </li>
   				</ul> 
   			</li>
   			<li>
   				<a href="#" onclick="texture()">Texture</a>
   			</li>
   			<li>
   				<a href="#"onclick="ph()">PH</a>
   			</li>
   		</ul>
   		
   		<ul class="list-unstyled CTAs">
   			<li>
   				<a href="#" class="download" onclick="finish()">Finish</a>
   			</li>
   		
   		</ul>
   	</nav>
   	
   	<div class="content" style="background: white;">


   		<nav class="navbar navbar-expand-lg navbar-light " style="background-color: white; background: white; border: transparent; ">
   		
   		<button type="button" id="sidebarCollapse" class="btn btn-info">
   			<i class="fa fa-align-justify"></i> <span></span>
   		</button>
   		
  <!--<a class="navbar-brand" href="#">Navbar</a> -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav" style="text-align: center; background-color: white; background: white;" >
   <h1 style="text-align: center; margin-left: 500px;">  Output</h1> 
  </div>
  <div style="display: none;" id="imgName">
<%= imgName%>
  </div>
</nav>
  	
  	
<!-- <iframe src="/api/file/a8585b8f-baef-44df-955c-950503461216" onload='javascript:(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));' style="height:200px;width:100%;border:none;overflow:hidden;"></iframe> -->
  <!-- <iframe src="/api/pre/a8585b8f-baef-44df-955c-950503461216"  id="iframe" style="margin-left: 400px;" ></iframe> -->


  <!-- <div>
    <div style="position:relative;padding-top:56.25%;">
      <iframe src="/api/file/a8585b8f-baef-44df-955c-950503461216" frameborder="0" allowfullscreen
        style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe>
    </div>
  </div> -->
 <iframe src="/outdoor.svg" id="iframe" style="height: 500px; width: 640px; margin-left: 70px; border: transparent; margin-top: 60px; "></iframe>


 





</div>
   	
 <!-- box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px -->
   	
 <div style="display: inline-block; height: 450px; width: 540px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; margin-top: 200px">
   	<h1 class="text-muted" style="text-align: center;margin-top: 30px;">Information</h1><br>
     <br>
     <br>
     <pre style="text-align: center; " class="text-muted"   id="info">

      
     </pre>
   </div>


    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    <script>
	    $(document).ready(function(){
			$('#sidebarCollapse').on('click',function(){
				$('#sidebar').toggleClass('active');
			});
		});  
	</script>
    
    <!-- <script type="application/javascript">

      function resizeIFrameToFitContent( iFrame ) {
      
          iFrame.width  = iFrame.contentWindow.document.body.scrollWidth;
          iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
      }
      
      window.addEventListener('DOMContentLoaded', function(e) {
      
          var iFrame = document.getElementById( 'iframe' );
          console.log(iFrame)
          resizeIFrameToFitContent( iFrame );
      
          // or, to resize all iframes:
        
      } );
      
      </script> -->
      <script>
        let imgName = document.getElementById("imgName").innerHTML
        function colorp()
        {
          document.getElementById("iframe").src = "/api/colorp/" + imgName
          fetch("/api/colorpd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function colorsrgb()
        {
          document.getElementById("iframe").src = "/api/colorsrgb/" + imgName

          fetch("/api/colorsd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function colorsxyz()
        {
          document.getElementById("iframe").src = "/api/colorsxyz/" + imgName

          fetch("/api/colorsd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function colorslab()
        {
          document.getElementById("iframe").src = "/api/colorslab/" + imgName

          fetch("/api/colorsd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function colorshsv()
        {
          document.getElementById("iframe").src = "/api/colorshsv/" + imgName

          fetch("/api/colorsd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function texture()
        {
          document.getElementById("iframe").src = "/api/colort/" + imgName

          fetch("/api/colortd/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function ph()
        {
          document.getElementById("iframe").src = "/outdoor.svg"

          fetch("/api/colorph/"+ imgName).then((res)=>{
            return res.json()
          }).then((fres)=>{
          document.getElementById("info").innerHTML = fres.message
          })
         

        }
        function finish()
        {
          fetch("/delete/"+ imgName).then(res=>{
            return res.json()
          }).then(()=>{
            window.location.href="/"
          })
        }
      </script>
    
    
    
  </body>
</html>